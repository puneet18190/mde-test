<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>lesson-editor - DESY</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="DESY"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/AdminAutocomplete.html">AdminAutocomplete</a></li>
            
                <li><a href="../classes/AdminBrowserSupport.html">AdminBrowserSupport</a></li>
            
                <li><a href="../classes/AdminCollapsed.html">AdminCollapsed</a></li>
            
                <li><a href="../classes/AdminDocumentReady.html">AdminDocumentReady</a></li>
            
                <li><a href="../classes/AjaxLoaderBinder.html">AjaxLoaderBinder</a></li>
            
                <li><a href="../classes/AjaxLoaderDocumentReady.html">AjaxLoaderDocumentReady</a></li>
            
                <li><a href="../classes/AjaxLoaderVisibility.html">AjaxLoaderVisibility</a></li>
            
                <li><a href="../classes/AudioEditorComponents.html">AudioEditorComponents</a></li>
            
                <li><a href="../classes/AudioEditorCutters.html">AudioEditorCutters</a></li>
            
                <li><a href="../classes/AudioEditorDocumentReady.html">AudioEditorDocumentReady</a></li>
            
                <li><a href="../classes/AudioEditorGalleries.html">AudioEditorGalleries</a></li>
            
                <li><a href="../classes/AudioEditorGeneral.html">AudioEditorGeneral</a></li>
            
                <li><a href="../classes/AudioEditorGraphics.html">AudioEditorGraphics</a></li>
            
                <li><a href="../classes/AudioEditorPreview.html">AudioEditorPreview</a></li>
            
                <li><a href="../classes/AudioEditorScrollpain.html">AudioEditorScrollpain</a></li>
            
                <li><a href="../classes/BrowserSupportMain.html">BrowserSupportMain</a></li>
            
                <li><a href="../classes/ButtonsAccessories.html">ButtonsAccessories</a></li>
            
                <li><a href="../classes/ButtonsDocumentReady.html">ButtonsDocumentReady</a></li>
            
                <li><a href="../classes/ButtonsLesson.html">ButtonsLesson</a></li>
            
                <li><a href="../classes/ButtonsMediaElement.html">ButtonsMediaElement</a></li>
            
                <li><a href="../classes/DashboardAccessories.html">DashboardAccessories</a></li>
            
                <li><a href="../classes/DashboardExpandedContents.html">DashboardExpandedContents</a></li>
            
                <li><a href="../classes/DashboardLessonDescriptions.html">DashboardLessonDescriptions</a></li>
            
                <li><a href="../classes/DashboardResizing.html">DashboardResizing</a></li>
            
                <li><a href="../classes/DialogsAccessories.html">DialogsAccessories</a></li>
            
                <li><a href="../classes/DialogsConfirmation.html">DialogsConfirmation</a></li>
            
                <li><a href="../classes/DialogsGalleries.html">DialogsGalleries</a></li>
            
                <li><a href="../classes/DialogsTimed.html">DialogsTimed</a></li>
            
                <li><a href="../classes/DialogsWithForm.html">DialogsWithForm</a></li>
            
                <li><a href="../classes/GalleriesAccessories.html">GalleriesAccessories</a></li>
            
                <li><a href="../classes/GalleriesDocumentReady.html">GalleriesDocumentReady</a></li>
            
                <li><a href="../classes/GalleriesInitializers.html">GalleriesInitializers</a></li>
            
                <li><a href="../classes/GeneralCentering.html">GeneralCentering</a></li>
            
                <li><a href="../classes/GeneralDocumentReady.html">GeneralDocumentReady</a></li>
            
                <li><a href="../classes/GeneralMiscellanea.html">GeneralMiscellanea</a></li>
            
                <li><a href="../classes/GeneralUrls.html">GeneralUrls</a></li>
            
                <li><a href="../classes/ImageEditorDocumentReady.html">ImageEditorDocumentReady</a></li>
            
                <li><a href="../classes/ImageEditorGraphics.html">ImageEditorGraphics</a></li>
            
                <li><a href="../classes/ImageEditorImageScale.html">ImageEditorImageScale</a></li>
            
                <li><a href="../classes/ImageEditorTexts.html">ImageEditorTexts</a></li>
            
                <li><a href="../classes/JqueryBrowsersDetection.html">JqueryBrowsersDetection</a></li>
            
                <li><a href="../classes/JqueryPatchesBrowsers.html">JqueryPatchesBrowsers</a></li>
            
                <li><a href="../classes/LessonEditorCurrentSlide.html">LessonEditorCurrentSlide</a></li>
            
                <li><a href="../classes/LessonEditorDocumentReady.html">LessonEditorDocumentReady</a></li>
            
                <li><a href="../classes/LessonEditorForms.html">LessonEditorForms</a></li>
            
                <li><a href="../classes/LessonEditorGalleries.html">LessonEditorGalleries</a></li>
            
                <li><a href="../classes/LessonEditorImageResizing.html">LessonEditorImageResizing</a></li>
            
                <li><a href="../classes/LessonEditorJqueryAnimations.html">LessonEditorJqueryAnimations</a></li>
            
                <li><a href="../classes/LessonEditorSlideLoading.html">LessonEditorSlideLoading</a></li>
            
                <li><a href="../classes/LessonEditorSlidesNavigation.html">LessonEditorSlidesNavigation</a></li>
            
                <li><a href="../classes/LessonEditorTinyMCE.html">LessonEditorTinyMCE</a></li>
            
                <li><a href="../classes/LessonViewerDocumentReady.html">LessonViewerDocumentReady</a></li>
            
                <li><a href="../classes/LessonViewerGeneral.html">LessonViewerGeneral</a></li>
            
                <li><a href="../classes/LessonViewerGraphics.html">LessonViewerGraphics</a></li>
            
                <li><a href="../classes/LessonViewerPlaylist.html">LessonViewerPlaylist</a></li>
            
                <li><a href="../classes/LessonViewerSlidesNavigation.html">LessonViewerSlidesNavigation</a></li>
            
                <li><a href="../classes/MediaElementEditorCache.html">MediaElementEditorCache</a></li>
            
                <li><a href="../classes/MediaElementEditorConversion.html">MediaElementEditorConversion</a></li>
            
                <li><a href="../classes/MediaElementEditorDocumentReady.html">MediaElementEditorDocumentReady</a></li>
            
                <li><a href="../classes/MediaElementEditorForms.html">MediaElementEditorForms</a></li>
            
                <li><a href="../classes/MediaElementEditorHorizontalTimelines.html">MediaElementEditorHorizontalTimelines</a></li>
            
                <li><a href="../classes/NotificationsAccessories.html">NotificationsAccessories</a></li>
            
                <li><a href="../classes/NotificationsDocumentReady.html">NotificationsDocumentReady</a></li>
            
                <li><a href="../classes/NotificationsGraphics.html">NotificationsGraphics</a></li>
            
                <li><a href="../classes/PlayersAudioEditor.html">PlayersAudioEditor</a></li>
            
                <li><a href="../classes/PlayersCommon.html">PlayersCommon</a></li>
            
                <li><a href="../classes/PlayersDocumentReady.html">PlayersDocumentReady</a></li>
            
                <li><a href="../classes/PlayersGeneral.html">PlayersGeneral</a></li>
            
                <li><a href="../classes/PlayersVideoEditor.html">PlayersVideoEditor</a></li>
            
                <li><a href="../classes/ProfilePrelogin.html">ProfilePrelogin</a></li>
            
                <li><a href="../classes/ProfileUsers.html">ProfileUsers</a></li>
            
                <li><a href="../classes/SearchDocumentReady.html">SearchDocumentReady</a></li>
            
                <li><a href="../classes/TagsAccessories.html">TagsAccessories</a></li>
            
                <li><a href="../classes/TagsInitializers.html">TagsInitializers</a></li>
            
                <li><a href="../classes/UploaderDocumentReady.html">UploaderDocumentReady</a></li>
            
                <li><a href="../classes/UploaderGlobal.html">UploaderGlobal</a></li>
            
                <li><a href="../classes/UploaderLoadingBar.html">UploaderLoadingBar</a></li>
            
                <li><a href="../classes/VideoEditorAddComponents.html">VideoEditorAddComponents</a></li>
            
                <li><a href="../classes/VideoEditorComponents.html">VideoEditorComponents</a></li>
            
                <li><a href="../classes/VideoEditorCutters.html">VideoEditorCutters</a></li>
            
                <li><a href="../classes/VideoEditorDocumentReady.html">VideoEditorDocumentReady</a></li>
            
                <li><a href="../classes/VideoEditorGalleries.html">VideoEditorGalleries</a></li>
            
                <li><a href="../classes/VideoEditorGeneral.html">VideoEditorGeneral</a></li>
            
                <li><a href="../classes/VideoEditorPreview.html">VideoEditorPreview</a></li>
            
                <li><a href="../classes/VideoEditorPreviewAccessories.html">VideoEditorPreviewAccessories</a></li>
            
                <li><a href="../classes/VideoEditorReplaceComponents.html">VideoEditorReplaceComponents</a></li>
            
                <li><a href="../classes/VideoEditorScrollPain.html">VideoEditorScrollPain</a></li>
            
                <li><a href="../classes/VideoEditorTextComponentEditor.html">VideoEditorTextComponentEditor</a></li>
            
                <li><a href="../classes/VirtualClassroomDocumentReady.html">VirtualClassroomDocumentReady</a></li>
            
                <li><a href="../classes/VirtualClassroomJavaScriptAnimations.html">VirtualClassroomJavaScriptAnimations</a></li>
            
                <li><a href="../classes/VirtualClassroomMultipleLoading.html">VirtualClassroomMultipleLoading</a></li>
            
                <li><a href="../classes/VirtualClassroomSendLink.html">VirtualClassroomSendLink</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/admin.html">admin</a></li>
            
                <li><a href="../modules/ajax-loader.html">ajax-loader</a></li>
            
                <li><a href="../modules/audio-editor.html">audio-editor</a></li>
            
                <li><a href="../modules/browser-support.html">browser-support</a></li>
            
                <li><a href="../modules/buttons.html">buttons</a></li>
            
                <li><a href="../modules/dashboard.html">dashboard</a></li>
            
                <li><a href="../modules/dialogs.html">dialogs</a></li>
            
                <li><a href="../modules/galleries.html">galleries</a></li>
            
                <li><a href="../modules/general.html">general</a></li>
            
                <li><a href="../modules/image-editor.html">image-editor</a></li>
            
                <li><a href="../modules/jquery-browsers.html">jquery-browsers</a></li>
            
                <li><a href="../modules/jquery-patches.html">jquery-patches</a></li>
            
                <li><a href="../modules/lesson-editor.html">lesson-editor</a></li>
            
                <li><a href="../modules/lesson-viewer.html">lesson-viewer</a></li>
            
                <li><a href="../modules/media-element-editor.html">media-element-editor</a></li>
            
                <li><a href="../modules/notifications.html">notifications</a></li>
            
                <li><a href="../modules/players.html">players</a></li>
            
                <li><a href="../modules/profile.html">profile</a></li>
            
                <li><a href="../modules/search.html">search</a></li>
            
                <li><a href="../modules/tags.html">tags</a></li>
            
                <li><a href="../modules/uploader.html">uploader</a></li>
            
                <li><a href="../modules/video-editor.html">video-editor</a></li>
            
                <li><a href="../modules/virtual-classroom.html">virtual-classroom</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>lesson-editor Module</h1>
<div class="box clearfix meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/app_assets_javascripts_lesson_editor.js.html#l1"><code>app&#x2F;assets&#x2F;javascripts&#x2F;lesson_editor.js:1</code></a>
        </div>
    

    
</div>



<div class="box intro">
    <p>The Lesson Editor is used to add and edit slides to a private lesson.
<br/><br/>
When opening the Editor on a lesson, all its slides are appended to a queue, of which it&#39;s visible only the portion that surrounds the <b>current slide</b> (the width of such a portion depends on the screen resolution, see <a href="../classes/LessonEditorSlidesNavigation.html#method_initLessonEditorPositions" class="crosslink">initLessonEditorPositions</a> and <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadyResize" class="crosslink">lessonEditorDocumentReadyResize</a>). The current slide is illuminated and editable, whereas the adhiacent slides are covered by a layer with opacity that prevents the user from editing them: if the user clicks on this layer, the application takes the slide below it as new current slide and moves it to the center of the screen (see <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadySlidesNavigator" class="crosslink">lessonEditorDocumentReadySlidesNavigator</a> and the methods in <a href="../classes/LessonEditorSlidesNavigation.html" class="crosslink">LessonEditorSlidesNavigation</a>): only after this operation, the user can edit that particular slide. To avoid overloading when there are many slides containing media, the slides are instanced all together but their content is loaded only when the user moves to them (see the methods in <a href="../classes/LessonEditorSlideLoading.html" class="crosslink">LessonEditorSlideLoading</a>).
<br/><br/>
On the right side of each slide the user finds a list of <b>buttons</b> (initialized in <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadySlideButtons" class="crosslink">lessonEditorDocumentReadySlideButtons</a>): each button corresponds either to an action that can be performed on the slide, either to an action that can be performed to the whole lesson (for instance, save and exit, or edit title description and tags).
<br/><br/>
The <b>tool to navigate the slides</b> is located on the top of the editor: each small square represents a slide (with its position), and passing with the mouse over it the Editor shows a miniature of the corresponding slide (these functionalities are initialized in <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadySlidesNavigator" class="crosslink">lessonEditorDocumentReadySlidesNavigator</a>). Clicking on a slide miniature, the application moves to that slide using the function <a href="../classes/LessonEditorSlidesNavigation.html#method_slideTo" class="crosslink">slideTo</a>. The slides can be sorted dragging with the mouse (using the JQueryUi plugin, initialized in <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadyJqueryAnimations" class="crosslink">lessonEditorDocumentReadyJqueryAnimations</a> and <a href="../classes/LessonEditorJqueryAnimations.html#method_initializeSortableNavs" class="crosslink">initializeSortableNavs</a>).
<br/><br/>
Inside the Editor, there are two operations that require hiding and replacement of the queue of slides: <b>adding a media element to a slide</b> and <b>choosing a new slide</b>. In both these operations, an HTML div is extracted from the main template (where it was hidden), and put in the place of the current slide, hiding the rest of the slides queue, buttons, and slides navigation (operations performed by <a href="../classes/LessonEditorCurrentSlide.html#method_hideEverythingOutCurrentSlide" class="crosslink">hideEverythingOutCurrentSlide</a>). For the galleries, the extracted div must be filled by an action called via Ajax (see the module <a href="../modules/galleries.html">galleries</a>), whereas the div with the list of available slides is already loaded with the Editor (see <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadyNewSlideChoice" class="crosslink">lessonEditorDocumentReadyNewSlideChoice</a>).
<br/><br/>
To add a media element to a slide, the user picks it from its specific gallery: when he clicks on the button &#39;plus&#39;, the system calls the corresponding subfunction in <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadyAddMediaElement" class="crosslink">lessonEditorDocumentReadyAddMediaElement</a>. To avoid troubles due to the replacement of JQuery plugins, video and audio tags, etc, this method always replaces the sources of <b>audio</b> and <b>video</b> tags and calls <i>load()</i>.
<br/><br/>
If the element added is of type <b>image</b>, the user may drag it inside the slide, using <a href="../classes/LessonEditorJqueryAnimations.html#method_makeDraggable" class="crosslink">makeDraggable</a>. A set of methods (in the class <a href="../classes/LessonEditorImageResizing.html" class="crosslink">LessonEditorImageResizing</a>) is available to resize the image and the alignment chosen by the user; more specificly, the method <a href="../classes/LessonEditorImageResizing.html#method_isHorizontalMask" class="crosslink">isHorizontalMask</a> is used to understand, depending on the type of slide and on the proportions of the image, if the image is <b>vertical</b> (and then the user can drag it vertically) or <b>horizontal</b> (the user can drag it horizontally).
<br/><br/>
Each slide contains a form linked to the action that updates it, there is no global saving for the whole lesson. The slide is automaticly saved (using the method <a href="../classes/LessonEditorForms.html#method_saveCurrentSlide" class="crosslink">saveCurrentSlide</a>) <i>before moving to another slide</i>, <i>before showing the options to add a new slide</i>, and <i>before changing position of a slide</i>. The same function is called by the user when he clicks on the button &#39;save&#39; on the right of each slide; the buttons <b>save and exit</b> and <b>edit general info</b> are also linked to slide saving, but in this case it&#39;s performed with a callback (see again the buttons initialization in <a href="../classes/LessonEditorDocumentReady.html#method_lessonEditorDocumentReadySlideButtons" class="crosslink">lessonEditorDocumentReadySlideButtons</a>).
<br/><br/>
The text slides are provided of <b>TinyMCE</b> text editor, initialized in the methods of <a href="../classes/LessonEditorTinyMCE.html" class="crosslink">LessonEditorTinyMCE</a>.</p>

</div>



<div class="yui3-g">
    <div class="yui3-u-1-2">
        
            <p>This module provides the following classes:</p>

            <ul class="module-classes">
            
                <li class="module-class">
                    <a href="../classes/LessonEditorCurrentSlide.html">
                        LessonEditorCurrentSlide
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorDocumentReady.html">
                        LessonEditorDocumentReady
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorForms.html">
                        LessonEditorForms
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorGalleries.html">
                        LessonEditorGalleries
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorImageResizing.html">
                        LessonEditorImageResizing
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorJqueryAnimations.html">
                        LessonEditorJqueryAnimations
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorSlideLoading.html">
                        LessonEditorSlideLoading
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorSlidesNavigation.html">
                        LessonEditorSlidesNavigation
                    </a>
                </li>
            
                <li class="module-class">
                    <a href="../classes/LessonEditorTinyMCE.html">
                        LessonEditorTinyMCE
                    </a>
                </li>
            
            </ul>
        
    </div>

    <div class="yui3-u-1-2">
        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
